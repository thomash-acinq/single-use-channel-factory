digraph T {
  rankdir=LR;
  node [shape=box];
  alice0 [label="Alice"];
  alice1 [label="Alice"];
  alice2 [label="Alice"];
  alice3 [label="Alice"];
  alice4 [label="Alice"];
  alice5 [label="Alice"];
  alice6 [label="Alice"];
  bob1 [label="Bob"];
  bob2 [label="Bob"];
  carol1 [label="Carol"];
  carol2 [label="Carol"];
  dan1 [label="Dan"];
  dan2 [label="Dan"];
  alice_bob [label="Alice & Bob"];
  alice_carol [label="Alice & Carol"];
  alice_dan [label="Alice & Dan"];
  node [shape=none];
  funding [label="Funding"];
  commitment_ab [color=red, label="Commitment", fontcolor=red];
  commitment_ac [color=red, label="Commitment", fontcolor=red];
  commitment_ad [color=red, label="Commitment", fontcolor=red];
  settlement_ab [label="Settlement"];
  settlement_ac [label="Settlement"];
  settlement_ad [label="Settlement"];
  edge [tailport=e, headport=w];
  alice0 -> funding [arrowhead=none];
  funding -> alice_bob;
  funding -> alice_carol;
  funding -> alice_dan;
  edge [style=dotted];
  edge [color=red];
  alice_bob -> commitment_ab [arrowhead=none];
  commitment_ab -> alice1;
  commitment_ab -> bob1;
  alice_carol -> commitment_ac [arrowhead=none];
  commitment_ac -> alice2;
  commitment_ac -> carol1;
  alice_dan -> commitment_ad [arrowhead=none];
  commitment_ad -> alice3;
  commitment_ad -> dan1;
  edge [style=solid, color=black];
  alice_bob -> settlement_ab [arrowhead=none, tailport=s];
  settlement_ab -> alice4;
  settlement_ab -> bob2;
  alice_carol -> settlement_ac [arrowhead=none, tailport=s];
  settlement_ac -> alice5;
  settlement_ac -> carol2;
  alice_dan -> settlement_ad [arrowhead=none, tailport=s];
  settlement_ad -> alice6;
  settlement_ad -> dan2;
}
